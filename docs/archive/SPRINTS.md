# Planejamento de Sprints - Agente J√∫lia

Organiza√ß√£o das tarefas em sprints semanais para o MVP.

---

## Vis√£o Geral

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         ROADMAP MVP - 6 SPRINTS                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ  Sprint 0       Sprint 1       Sprint 2       Sprint 3       Sprint 4-5     ‚îÇ
‚îÇ  Setup          Core           Vagas          Testes         Piloto         ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îÇ  ‚Ä¢ Config       ‚Ä¢ FastAPI      ‚Ä¢ Buscar       ‚Ä¢ Sandbox      ‚Ä¢ 10 m√©dicos   ‚îÇ
‚îÇ  ‚Ä¢ APIs         ‚Ä¢ Webhook      ‚Ä¢ Ofertar      ‚Ä¢ Equipe       ‚Ä¢ 100 m√©dicos  ‚îÇ
‚îÇ  ‚Ä¢ Testes       ‚Ä¢ Agente       ‚Ä¢ Reservar     ‚Ä¢ Ajustes      ‚Ä¢ M√©tricas     ‚îÇ
‚îÇ    manuais        b√°sico       ‚Ä¢ Handoff                                     ‚îÇ
‚îÇ                                ‚Ä¢ Chatwoot                                    ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ  Semana 1       Semana 2       Semana 3       Semana 4       Semana 5-6     ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Sprint 0: Setup & Configura√ß√£o (Semana 1)

### Objetivo
Configurar todas as integra√ß√µes e validar que funcionam antes de escrever c√≥digo.

### Tarefas

#### Integra√ß√µes (Bloqueantes)

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 0.1 | Obter API key Anthropic | Gestor | - | 30min |
| 0.2 | Testar chamada Claude API | Dev | 0.1 | 1h |
| 0.3 | Conectar n√∫mero WhatsApp na Evolution | Gestor | - | 30min |
| 0.4 | Testar envio/recebimento Evolution | Dev | 0.3 | 1h |
| 0.5 | Criar conta admin Chatwoot | Gestor | - | 30min |
| 0.6 | Criar inbox WhatsApp no Chatwoot | Dev | 0.5 | 1h |
| 0.7 | Criar webhook Slack | Gestor | - | 30min |
| 0.8 | Testar envio mensagem Slack | Dev | 0.7 | 30min |

#### Dados (Paralelo)

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 0.9 | Seed especialidades/setores/periodos | Dev | - | 1h |
| 0.10 | Cadastrar 3-5 hospitais | Gestor | 0.9 | 1h |
| 0.11 | Cadastrar 10-20 vagas reais | Gestor | 0.10 | 2h |
| 0.12 | Selecionar 100 m√©dicos piloto | Dev | - | 1h |

#### Estrutura Projeto (Paralelo)

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 0.13 | Criar estrutura FastAPI base | Dev | - | 2h |
| 0.14 | Configurar .env com todas as vars | Dev | 0.1-0.8 | 30min |
| 0.15 | Criar cliente Supabase | Dev | - | 1h |
| 0.16 | Criar cliente Anthropic | Dev | 0.1 | 1h |

### Entreg√°veis
- [ ] Todas as APIs funcionando (testes manuais OK)
- [ ] Dados b√°sicos no Supabase
- [ ] Estrutura do projeto criada
- [ ] .env completo

### Crit√©rio de Sa√≠da
- [ ] `curl` para Evolution envia mensagem
- [ ] `curl` para Claude retorna resposta
- [ ] Slack recebe notifica√ß√£o
- [ ] Chatwoot mostra inbox

---

## Sprint 1: Core do Agente (Semana 2)

### Objetivo
J√∫lia consegue receber uma mensagem e responder com a persona correta.

### Tarefas

#### Webhook & Recebimento

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 1.1 | Endpoint webhook Evolution | Dev | 0.4 | 2h |
| 1.2 | Parser de mensagens recebidas | Dev | 1.1 | 1h |
| 1.3 | Marcar como lida + presen√ßa online | Dev | 1.2 | 1h |
| 1.4 | Mostrar "digitando" | Dev | 1.3 | 30min |

#### Agente J√∫lia

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 1.5 | System prompt da J√∫lia | Dev | - | 3h |
| 1.6 | Buscar/criar m√©dico no banco | Dev | 1.2 | 1h |
| 1.7 | Buscar/criar conversa | Dev | 1.6 | 1h |
| 1.8 | Carregar hist√≥rico recente | Dev | 1.7 | 1h |
| 1.9 | Chamar Claude com contexto | Dev | 1.5, 1.8 | 2h |
| 1.10 | Enviar resposta via Evolution | Dev | 1.9 | 1h |

#### Persist√™ncia

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 1.11 | Salvar mensagem recebida | Dev | 1.2 | 1h |
| 1.12 | Salvar resposta enviada | Dev | 1.10 | 1h |
| 1.13 | Atualizar stage do m√©dico | Dev | 1.10 | 30min |

### Entreg√°veis
- [ ] Webhook funcionando
- [ ] J√∫lia responde mensagens
- [ ] Hist√≥rico salvo no banco

### Crit√©rio de Sa√≠da
- [ ] Enviar "oi" pelo WhatsApp ‚Üí receber resposta natural
- [ ] Conversa aparece na tabela `conversations`
- [ ] Mensagens aparecem em `interacoes`

---

## Sprint 2: Vagas & Chatwoot (Semana 3)

### Objetivo
J√∫lia oferece vagas e gestor consegue monitorar/intervir.

### Tarefas

#### Sistema de Vagas

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 2.1 | Tool: buscar_vagas_compativeis | Dev | - | 3h |
| 2.2 | Tool: reservar_plantao | Dev | 2.1 | 2h |
| 2.3 | Verificar conflito dia/per√≠odo | Dev | 2.2 | 1h |
| 2.4 | Notificar gestor p√≥s-reserva | Dev | 2.2 | 1h |

#### Integra√ß√£o Chatwoot

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 2.5 | Sincronizar conversas ‚Üí Chatwoot | Dev | - | 3h |
| 2.6 | Sincronizar mensagens ‚Üí Chatwoot | Dev | 2.5 | 2h |
| 2.7 | Webhook labels Chatwoot | Dev | 2.6 | 2h |
| 2.8 | Detectar label "humano" ‚Üí handoff | Dev | 2.7 | 1h |

#### Sistema de Handoff

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 2.9 | Triggers autom√°ticos de handoff | Dev | - | 2h |
| 2.10 | Mensagem de transi√ß√£o | Dev | 2.9 | 1h |
| 2.11 | Bloquear J√∫lia em conversa humana | Dev | 2.10 | 1h |
| 2.12 | Registrar handoff no banco | Dev | 2.11 | 1h |
| 2.13 | Notificar gestor Slack | Dev | 2.12 | 1h |

#### Rate Limiting

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 2.14 | Controle msgs/hora | Dev | - | 2h |
| 2.15 | Controle hor√°rio comercial | Dev | 2.14 | 1h |
| 2.16 | Fila de mensagens | Dev | 2.15 | 2h |

### Entreg√°veis
- [ ] J√∫lia oferece vagas
- [ ] Reserva funciona
- [ ] Chatwoot sincronizado
- [ ] Handoff funciona

### Crit√©rio de Sa√≠da
- [ ] M√©dico aceita vaga ‚Üí vaga reservada no banco
- [ ] Gestor v√™ conversa no Chatwoot
- [ ] Gestor adiciona label "humano" ‚Üí J√∫lia para

---

## Sprint 3: Testes & Ajustes (Semana 4)

### Objetivo
Validar persona e corrigir problemas antes de m√©dicos reais.

### Tarefas

#### Fase 0: Sandbox

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 3.1 | Script de teste de persona | Dev | - | 2h |
| 3.2 | 50+ cen√°rios de teste | Dev | 3.1 | 4h |
| 3.3 | Validar: tom, tamanho, abrevia√ß√µes | Dev | 3.2 | 2h |
| 3.4 | Ajustar system prompt | Dev | 3.3 | 2h |

#### Fase 1: Equipe Interna

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 3.5 | Conectar n√∫mero de teste | Gestor | - | 30min |
| 3.6 | Briefing equipe interna | Gestor | - | 1h |
| 3.7 | 5-10 pessoas testam (3-5 dias) | Equipe | 3.6 | - |
| 3.8 | Coletar feedback | Dev | 3.7 | 2h |
| 3.9 | Ajustes baseados no feedback | Dev | 3.8 | 4h |

#### Funcionalidades Complementares

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 3.10 | Report di√°rio Slack | Dev | - | 3h |
| 3.11 | Follow-up ap√≥s 48h | Dev | - | 3h |
| 3.12 | Mem√≥ria b√°sica (nome, esp) | Dev | - | 2h |

### Entreg√°veis
- [ ] Persona validada pela equipe
- [ ] Report di√°rio funcionando
- [ ] Follow-up funcionando
- [ ] Zero erros cr√≠ticos por 48h

### Crit√©rio de Sa√≠da
- [ ] Equipe aprova: "parece humano"
- [ ] 0% de detec√ß√£o como bot nos testes
- [ ] Todos os fluxos testados sem erro

---

## Sprint 4: Piloto Restrito (Semana 5)

### Objetivo
Testar com 10 m√©dicos reais em ambiente controlado.

### Tarefas

#### Prepara√ß√£o

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 4.1 | Selecionar 10 m√©dicos beta | Gestor | - | 1h |
| 4.2 | Configurar rate limit conservador | Dev | - | 1h |
| 4.3 | Preparar protocolo de monitoramento | Dev | - | 1h |
| 4.4 | Definir crit√©rios de pausa | Dev | - | 1h |

#### Execu√ß√£o (Semana 1)

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 4.5 | Dia 1-2: 5 m√©dicos, 1 msg cada | Dev | 4.1-4.4 | - |
| 4.6 | Dia 3-4: +5 m√©dicos (10 total) | Dev | 4.5 | - |
| 4.7 | Dia 5: An√°lise de respostas | Dev | 4.6 | 2h |
| 4.8 | Ajustes se necess√°rio | Dev | 4.7 | 4h |

#### Execu√ß√£o (Semana 2)

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 4.9 | Expandir para 20 m√©dicos | Dev | 4.8 | - |
| 4.10 | Follow-ups para quem n√£o respondeu | Dev | 4.9 | - |
| 4.11 | Ofertas de vagas | Dev | 4.10 | - |
| 4.12 | An√°lise final do piloto | Dev | 4.11 | 3h |

### Entreg√°veis
- [ ] 10-20 m√©dicos contatados
- [ ] M√©tricas do piloto coletadas
- [ ] Pelo menos 1 vaga fechada (meta)

### Crit√©rio de Sa√≠da
- [ ] Taxa de resposta > 15%
- [ ] 0 detec√ß√µes como bot
- [ ] 0 reclama√ß√µes
- [ ] 2 semanas sem incidentes

---

## Sprint 5: Expans√£o (Semana 6)

### Objetivo
Escalar para 100 m√©dicos com m√©tricas consolidadas.

### Tarefas

| # | Tarefa | Respons√°vel | Depend√™ncia | Estimativa |
|---|--------|-------------|-------------|------------|
| 5.1 | Aumentar para 100 m√©dicos | Dev | Sprint 4 OK | 1h |
| 5.2 | Ajustar rate limit (20/dia) | Dev | 5.1 | 30min |
| 5.3 | Monitoramento cont√≠nuo | Dev | 5.2 | cont√≠nuo |
| 5.4 | Dashboard de m√©tricas | Dev | - | 4h |
| 5.5 | An√°lise semanal | Dev | 5.4 | 2h |
| 5.6 | Documentar aprendizados | Dev | 5.5 | 2h |

### Entreg√°veis
- [ ] 100 m√©dicos na base ativa
- [ ] Dashboard funcionando
- [ ] Documenta√ß√£o de aprendizados

### Crit√©rio de Sa√≠da (MVP Completo)
- [ ] 3+ plant√µes fechados
- [ ] Taxa detec√ß√£o bot < 10%
- [ ] Zero ban WhatsApp
- [ ] Taxa resposta > 20%
- [ ] Gestor opera independente

---

## Depend√™ncias Cr√≠ticas

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         GRAFO DE DEPEND√äNCIAS                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ  [API Key Anthropic] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                                ‚îÇ
‚îÇ                            ‚îÇ                                                ‚îÇ
‚îÇ  [N√∫mero WhatsApp] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∂ [Sprint 1: Core] ‚îÄ‚îÄ‚ñ∂ [Sprint 2: Vagas]     ‚îÇ
‚îÇ                            ‚îÇ                              ‚îÇ                 ‚îÇ
‚îÇ  [Chatwoot Config] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ                 ‚îÇ
‚îÇ                                                           ‚ñº                 ‚îÇ
‚îÇ  [Dados: Hospitais] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ [Sprint 2: Vagas]      ‚îÇ
‚îÇ                                                           ‚îÇ                 ‚îÇ
‚îÇ  [Dados: Vagas] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ [Sprint 2: Vagas]      ‚îÇ
‚îÇ                                                           ‚îÇ                 ‚îÇ
‚îÇ                                                           ‚ñº                 ‚îÇ
‚îÇ                                                  [Sprint 3: Testes]         ‚îÇ
‚îÇ                                                           ‚îÇ                 ‚îÇ
‚îÇ                                                           ‚ñº                 ‚îÇ
‚îÇ                                                  [Sprint 4: Piloto]         ‚îÇ
‚îÇ                                                           ‚îÇ                 ‚îÇ
‚îÇ                                                           ‚ñº                 ‚îÇ
‚îÇ                                                  [Sprint 5: Expans√£o]       ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Bloqueantes Absolutos

| Bloqueante | Bloqueia | A√ß√£o |
|------------|----------|------|
| API Key Anthropic | Sprint 1+ | Gestor precisa criar conta |
| N√∫mero WhatsApp conectado | Sprint 1+ | Gestor escaneia QR |
| Vagas cadastradas | Sprint 2+ | Gestor cadastra manualmente |

---

## Aloca√ß√£o de Tempo

### Desenvolvimento (estimativa total)

| Sprint | Horas Dev | Foco |
|--------|-----------|------|
| 0 | 12h | Setup, estrutura |
| 1 | 16h | Webhook, agente |
| 2 | 24h | Vagas, Chatwoot, handoff |
| 3 | 24h | Testes, ajustes, complementos |
| 4 | 12h | Piloto, monitoramento |
| 5 | 10h | Expans√£o, m√©tricas |
| **Total** | **~100h** | ~2.5 semanas full-time |

### Gestor (paralelo)

| Sprint | Atividade |
|--------|-----------|
| 0 | APIs, dados, hospitais, vagas |
| 1-2 | Acompanhar, cadastrar mais vagas |
| 3 | Participar testes, briefing equipe |
| 4-5 | Monitorar Chatwoot, resolver handoffs |

---

## Checkpoints

### Checkpoint 1 (fim Sprint 1)
- [ ] J√∫lia responde mensagens
- [ ] GO/NO-GO para Sprint 2

### Checkpoint 2 (fim Sprint 2)
- [ ] Vagas funcionando
- [ ] Chatwoot integrado
- [ ] GO/NO-GO para testes

### Checkpoint 3 (fim Sprint 3)
- [ ] Persona aprovada
- [ ] Equipe deu OK
- [ ] GO/NO-GO para piloto real

### Checkpoint 4 (fim Sprint 4)
- [ ] Piloto sem incidentes
- [ ] M√©tricas dentro do esperado
- [ ] GO/NO-GO para expans√£o

### Checkpoint Final (fim Sprint 5)
- [ ] MVP completo
- [ ] Decis√£o: Fase 2 ou pivot

---

## Riscos por Sprint

| Sprint | Risco Principal | Mitiga√ß√£o |
|--------|-----------------|-----------|
| 0 | API keys atrasam | Pedir com anteced√™ncia |
| 1 | Webhook n√£o funciona | Testar Evolution isolado primeiro |
| 2 | Chatwoot complexo | Documentar cada passo |
| 3 | Persona n√£o convence | Iterar r√°pido, mais exemplos |
| 4 | M√©dicos n√£o respondem | Ajustar mensagem, hor√°rio |
| 5 | Ban WhatsApp | Rate limit conservador |

---

## Sprints Adicionais (P√≥s-MVP)

### Sprint 6: Multi-inst√¢ncia WhatsApp

**Objetivo:** Gerenciar m√∫ltiplas inst√¢ncias WhatsApp para escalabilidade.

**Entreg√°veis:**
- [x] Tabela `whatsapp_instances` com pool de inst√¢ncias
- [x] Distribui√ß√£o inteligente de mensagens
- [x] Monitoramento de conex√£o e health check
- [x] Rate limiting por inst√¢ncia

---

### Sprint 7: Briefing via Google Docs

**Objetivo:** Gestor configura Julia via Google Docs em linguagem natural.

**Entreg√°veis:**
- [x] Integra√ß√£o Google Docs API
- [x] Parser de briefing (se√ß√µes, vagas priorit√°rias)
- [x] Sincroniza√ß√£o autom√°tica (1h)
- [x] Notifica√ß√£o no Slack ap√≥s sync
- [x] Handoff humano ‚Üí IA via Chatwoot

---

### Sprint 8: Mem√≥ria & Pipeline

**Objetivo:** Preparar arquitetura para produ√ß√£o com mem√≥ria de longo prazo.

**Entreg√°veis:**
- [x] Tool `salvar_memoria` com embeddings Voyage AI
- [x] RAG para busca sem√¢ntica de contexto
- [x] Pipeline de processamento extens√≠vel
- [x] Sistema de prompts din√¢micos (versionados no banco)
- [x] Valida√ß√£o de output (impede revelar que √© IA)
- [x] 15+ varia√ß√µes de abertura

---

### Sprint 9: Julia como Colega no Slack

**Objetivo:** Gestor conversa com Julia em linguagem natural no Slack.

**Entreg√°veis:**
- [x] Agente conversacional com LLM
- [x] 14 tools de gest√£o (m√©tricas, m√©dicos, vagas, etc)
- [x] Confirma√ß√£o antes de a√ß√µes cr√≠ticas
- [x] Sess√£o com contexto (30 min TTL)
- [x] 5 tipos de abordagem autom√°ticos
- [x] Formata√ß√£o amig√°vel das respostas
- [x] 109+ testes espec√≠ficos

**Exemplos de uso:**
```
Gestor: Julia, como foi hoje?
Julia: Dia bom! üìà
       Enviadas: 15
       Respostas: 5 (33%)
       - 3 positivas
       - 2 neutras

Gestor: Manda msg pro 11999 oferecendo vaga do Sao Luiz
Julia: Vou mandar msg pro `11 99988-7766` (*oferta de vaga*):
       > oferecendo vaga do Sao Luiz
       Posso enviar?

Gestor: Sim
Julia: Pronto! Mandei pro Dr Carlos
```

---

## Status Atual

**Todas as sprints (0-9) foram conclu√≠das.**

| M√©trica | Valor |
|---------|-------|
| Arquivos Python | 100 |
| Servi√ßos | 46 |
| Tabelas | 35 |
| Migra√ß√µes | 44 |
| Testes | 443 |

**Pr√≥ximos passos:** Piloto com m√©dicos reais + ajustes de persona
