# ==============================================
# CONFIGURACAO DO AGENTE JULIA
# ==============================================
# Copie este arquivo para .env e preencha os valores
# NUNCA commite o arquivo .env!

# ----------------------------------------------
# APP
# ----------------------------------------------
APP_NAME=Agente Julia
ENVIRONMENT=development
# Opcoes: development, production, test
DEBUG=true
LOG_LEVEL=INFO

# ----------------------------------------------
# SUPABASE (Banco de Dados)
# ----------------------------------------------
# URL do projeto Supabase
SUPABASE_URL=https://xxx.supabase.co

# Service Key (tem acesso total, nao expor!)
SUPABASE_SERVICE_KEY=eyJ...

# ----------------------------------------------
# ANTHROPIC (Claude LLM)
# ----------------------------------------------
# API Key da Anthropic
ANTHROPIC_API_KEY=sk-ant-...

# Modelos
LLM_MODEL=claude-3-5-haiku-20241022
LLM_MODEL_COMPLEX=claude-sonnet-4-20250514

# ----------------------------------------------
# VOYAGE AI (Embeddings para RAG)
# ----------------------------------------------
# API Key da Voyage AI (recomendado pela Anthropic)
# Obter em: https://dash.voyageai.com/
VOYAGE_API_KEY=pa-...

# Modelo de embedding (voyage-3.5-lite = melhor custo-beneficio)
VOYAGE_MODEL=voyage-3.5-lite

# ----------------------------------------------
# EVOLUTION API (WhatsApp)
# ----------------------------------------------
# URL da Evolution API (em Docker: http://evolution-api:8080)
EVOLUTION_API_URL=http://localhost:8080

# API Key (gerada no painel Evolution)
EVOLUTION_API_KEY=xxx

# Nome da instancia WhatsApp
EVOLUTION_INSTANCE=Revoluna

# ----------------------------------------------
# CHATWOOT (Supervisao)
# ----------------------------------------------
# URL do Chatwoot (em Docker: http://chatwoot:3000)
CHATWOOT_URL=http://localhost:3000

# API Key (do perfil do usuario)
CHATWOOT_API_KEY=xxx

# IDs
CHATWOOT_ACCOUNT_ID=1
CHATWOOT_INBOX_ID=1

# ----------------------------------------------
# SLACK (Notificacoes e Comandos)
# ----------------------------------------------
# Webhook URL do Slack (para enviar notificacoes)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx

# Canal para reports
SLACK_CHANNEL=#julia-gestao

# Bot Token (para receber comandos) - comeca com xoxb-
SLACK_BOT_TOKEN=xoxb-xxx

# Signing Secret (para validar requests do Slack)
SLACK_SIGNING_SECRET=xxx

# ----------------------------------------------
# REDIS (Cache e Filas)
# ----------------------------------------------
# Em Docker: redis://redis:6379/0
# Local: redis://localhost:6379/0
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------
# RATE LIMITING (Critico!)
# ----------------------------------------------
# Limites para evitar ban do WhatsApp
MAX_MSGS_POR_HORA=20
MAX_MSGS_POR_DIA=100

# Horario de funcionamento
HORARIO_INICIO=08:00
HORARIO_FIM=20:00

# ----------------------------------------------
# LIMITES DE MENSAGEM
# ----------------------------------------------
MAX_MENSAGEM_CHARS=4000
MAX_MENSAGEM_CHARS_TRUNCAR=10000
MAX_MENSAGEM_CHARS_REJEITAR=50000

# ----------------------------------------------
# EMPRESA
# ----------------------------------------------
NOME_EMPRESA=Revoluna
GESTOR_WHATSAPP=5511999999999

# ----------------------------------------------
# GOOGLE DOCS (Briefing)
# ----------------------------------------------
# Caminho para arquivo de credenciais do Service Account
# Criar em: console.cloud.google.com > IAM > Service Accounts
# IMPORTANTE: Service Account precisa de permissao de EDITOR na pasta!
GOOGLE_APPLICATION_CREDENTIALS=./credentials/google-sa.json

# ID do documento de briefing (LEGADO - doc unico)
# Exemplo: https://docs.google.com/document/d/ESTE_ID_AQUI/edit
BRIEFING_DOC_ID=

# ID da pasta de briefings (RECOMENDADO - Sprint 11)
# Exemplo: https://drive.google.com/drive/folders/ESTE_ID_AQUI
# A pasta deve conter documentos de briefing que Julia vai processar
GOOGLE_BRIEFINGS_FOLDER_ID=

# ----------------------------------------------
# JULIA API (para scheduler interno)
# ----------------------------------------------
# URL da API Julia (em Docker: http://julia-api:8000)
JULIA_API_URL=http://localhost:8000

# ==============================================
# DOCKER (Evolution, Chatwoot, etc)
# ==============================================

# DATABASE
DATABASE_ENABLED=true
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI='postgresql://postgres:PASSWORD@postgres:5432/evolution?schema=public'
DATABASE_CONNECTION_CLIENT_NAME=evolution_exchange

# Redis
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://redis:6379/6
CACHE_REDIS_PREFIX_KEY=evolution
# Para Docker containers use redis://redis:6379, para Python local use redis://localhost:6379
REDIS_URL=redis://localhost:6379

# Chatwoot
SECRET_KEY_BASE=your_secret_key_base_here
FRONTEND_URL=http://localhost:3000

# Postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DATABASE=chatwoot_production
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=PASSWORD

# PgAdmin
PGADMIN_DEFAULT_EMAIL=your_email@example.com
PGADMIN_DEFAULT_PASSWORD=PASSWORD
